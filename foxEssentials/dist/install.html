<!DOCTYPE html>
<html>
	<head>
		<title>foxEssentials</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
		<style type="text/css">
			*, *::before, *::after {
				margin: 0; padding: 0;
				transition: 200ms all cubic-bezier(0.4, 0.0, 0.2, 1);
			}

			@font-face {
				font-family: "Dudu Caligraphy";
				src: url(dudu_calligraphy.ttf);
			}

			body {
				width: 100vw;
				height: 100vh;
				overflow: hidden;
				font-family: "Roboto", sans-serif;
				font-size: 24px;
				user-select: none;
				color: #1d1f21;
			}

			h1, h2 {
				font-weight: 400;
			}

			#logo {
				position: fixed; margin: auto;
				top: 0; left: 0; right: 0; bottom: calc(60vh + 15px);

				image-rendering: pixelated;
				background:
					linear-gradient(rgba(29,31,33,0.5), rgba(29,31,33,0.5)),
					url(../app/assets/gifs/sakura.gif);
				background-size: cover;
				background-position: bottom;
				color: #fff;
				text-align: center;
			}

			#logo svg {
				display: block;
				margin: 0 auto;
				width: 400px;
				fill: #fff;
			}

			@keyframes rainbow {
				0% { background-position: 0 0; }
				100% { background-position: 200% 0; }
			}

			#logo-rainbow { 
				position: fixed; margin: auto;
				left: 0; right: 0; bottom: 60vh;
				height: 15px;
				background-image: url(../app/assets/rainbow.png);
				background-size: 200% 100%;
				animation-name: rainbow;
				animation-timing-function: linear;
				animation-duration: 4s;
				animation-iteration-count: infinite;
			}

			@keyframes sway {
				0% { transform: rotate(-2.5deg); }
				50% { transform: rotate(2.5deg); }
				100% { transform: rotate(-2.5deg); }
			}

			#logo .middle>div {
				animation-name: sway;
				animation-duration: 4s;
				animation-iteration-count: infinite;
			}

			#content {
				position: fixed; margin: auto;
				top: 40vh; left: 0; right: 0; bottom: 30vh;
				/*padding: 55px 40px;*/
				/*text-align: center;*/
			}

			#content table {
				margin: 0 auto;
			}

			#footer {
				position: fixed; margin: auto;
				top: 70vh; left: 0; right: 0; bottom: 0;
				background: #f44336;
			}

			.icon {
				display: inline-block;
				height: 32px;
				width: 32px;
				margin-bottom: -8px;
			}

			.button {
				text-align: center;
				width: 100%;
				height: 50%;
				padding: 20px 20px;
				color: #fff;
				table-layout: fixed;
				border: solid 10px;
				cursor: pointer;
			}

			.button svg {
				transition: none;
				width: 48px; height: 48px;
				fill: #fff;
			}

			.yes { background: #8bc34a; border-color: #8bc34a; }
			.yes:hover { background: #fff;}
			.yes:hover td { color: #8bc34a;}
			.yes:hover svg { fill: #8bc34a; }

			.no { background: #f44336; border-color: #f44336; }
			.no:hover { background: #fff;}
			.no:hover td { color: #f44336;}
			.no:hover svg { fill: #f44336; }

			#thank-you {
				position: fixed; margin: auto;
				top: 0; left: 0; right: 0; bottom: 0;
				background: #1d1f21;
				color: #fff;
				margin-top: 100vh;
			}

			.middle {
				display: table;
				text-align: center;
				width: 100%;
				height: 100%;
			}

			.middle>div {
				display: table-cell;
				vertical-align: middle;
			}

			#thank-you   { transition: 300ms all cubic-bezier(0.4, 0.0, 1, 1) !important; }
			#thank-you * { transition: 600ms all cubic-bezier(0.0, 0.0, 0.2, 1) !important; }

			@keyframes heartbeat {
				0% { transform: scale(0.9); }
				50% { transform: scale(1.0); }
				100% { transform: scale(0.9); }
			}

			#thank-you svg {
				animation-name: heartbeat;
				animation-duration: 500ms;
				animation-iteration-count: infinite;
			}
		</style>
	</head>
	<body>
		<div id="logo">
			<div class="middle"><div>
				<svg viewBox="0 0 1714 310" xmlns="http://www.w3.org/2000/svg"><path d="M1568.25 143.227c-11.09-28.647-17.83-60.485-10.86-90.959 3.24-19.089 16.5-36.228 34.29-43.987 16.37-7.253 34.74-9.534 52.49-7.651 27.38 4.229 51.8 21.478 66.96 44.38-9.02-4.229-18.8-9.621-29.1-7.125-8.54 1.816-14.12 9.592-16.69 17.461-4.76 12.363-4.22 25.815-3.91 38.822.86 21.656 4.45 43.091 8.88 64.271 5.88 27.883 10.08 57.138 3.22 85.239-4.8 20.368-17.18 39.223-35.22 50.158-18.24 11.346-40.01 15.644-61.27 15.813-9.13-.157-18.42.88-27.36-1.612 16.87-6.487 32.36-19.261 37.15-37.302 1.83-9.04 3.72-18.135 4.72-27.309.52-34.697-9.59-68.635-23.3-100.199zm-302.67 36.662h-46.43c0-16.406 6.15-29.941 18.46-40.605 12.3-10.664 27.86-15.996 46.67-15.996 19.47 0 34.54 5.058 45.2 15.175 10.67 10.118 16 24.582 16 43.395v83.508c.22 15.312 2.4 27.289 6.56 35.929v2.789h-46.76c-1.31-2.734-2.62-7.328-3.93-13.781-8.32 11.375-19.58 17.063-33.8 17.063-14.88 0-27.21-4.922-37-14.766-9.79-9.844-14.68-22.586-14.68-38.227 0-18.593 5.93-32.976 17.8-43.148 11.87-10.172 28.96-15.367 51.27-15.586h14.11v-14.273c0-7.985-1.37-13.618-4.1-16.899-2.74-3.281-6.73-4.922-11.98-4.922-11.59 0-17.39 6.781-17.39 20.344zm287.8-.984h-46.43c0-14.438-6.02-21.657-18.05-21.657-4.92 0-8.97 1.532-12.14 4.594-3.17 3.063-4.76 7.328-4.76 12.797 0 3.938 1.75 7.41 5.25 10.418 3.5 3.008 11.76 7.301 24.78 12.879 18.92 7 32.29 14.793 40.11 23.379 7.82 8.586 11.73 19.715 11.73 33.387 0 15.859-5.96 28.601-17.88 38.226-11.92 9.625-27.56 14.438-46.92 14.438-13.02 0-24.5-2.543-34.46-7.629-9.95-5.086-17.74-12.168-23.37-21.246-5.64-9.078-8.45-18.868-8.45-29.368h44.13c.22 8.094 2.1 14.165 5.66 18.211 3.55 4.047 9.38 6.071 17.47 6.071 12.47 0 18.7-5.633 18.7-16.899 0-3.937-1.88-7.574-5.66-10.91-3.77-3.336-12.16-7.848-25.18-13.535-19.14-7.766-32.29-15.805-39.46-24.117-7.16-8.313-10.74-18.649-10.74-31.008 0-15.531 5.6-28.355 16.81-38.473 11.22-10.117 26.06-15.175 44.55-15.175 19.47 0 35.05 5.031 46.75 15.093 11.71 10.063 17.56 23.57 17.56 40.524zm-432.7-52.336h23.79v34.781h-23.79v88.237c0 7.011.96 11.83 2.87 14.46 1.92 2.629 5.61 3.944 11.08 3.944 4.48 0 8.14-.383 10.99-1.149l-.33 36.094c-7.88 2.953-16.41 4.43-25.59 4.43-29.97 0-45.12-17.192-45.45-51.575V161.35h-20.51v-34.781h20.51V82.928h46.43v43.641zm-359.099 52.336h-46.43c0-14.438-6.016-21.657-18.047-21.657-4.922 0-8.969 1.532-12.14 4.594-3.172 3.063-4.758 7.328-4.758 12.797 0 3.938 1.75 7.41 5.25 10.418 3.5 3.008 11.758 7.301 24.773 12.879 18.922 7 32.293 14.793 40.113 23.379 7.821 8.586 11.731 19.715 11.731 33.387 0 15.859-5.961 28.601-17.883 38.226-11.922 9.625-27.562 14.438-46.922 14.438-13.015 0-24.5-2.543-34.453-7.629-9.953-5.086-17.746-12.168-23.379-21.246-5.633-9.078-8.449-18.868-8.449-29.368h44.133c.219 8.094 2.105 14.165 5.66 18.211 3.555 4.047 9.379 6.071 17.473 6.071 12.468 0 18.703-5.633 18.703-16.899 0-3.937-1.887-7.574-5.66-10.91-3.774-3.336-12.168-7.848-25.184-13.535-19.141-7.766-32.293-15.805-39.457-24.117-7.164-8.313-10.746-18.649-10.746-31.008 0-15.531 5.605-28.355 16.816-38.473 11.211-10.117 26.059-15.175 44.543-15.175 19.469 0 35.055 5.031 46.758 15.093 11.703 10.063 17.555 23.57 17.555 40.524zm-135.778 0h-46.43c0-14.438-6.016-21.657-18.047-21.657-4.922 0-8.969 1.532-12.141 4.594-3.171 3.063-4.757 7.328-4.757 12.797 0 3.938 1.75 7.41 5.25 10.418 3.5 3.008 11.757 7.301 24.773 12.879 18.922 7 32.293 14.793 40.113 23.379 7.821 8.586 11.731 19.715 11.731 33.387 0 15.859-5.961 28.601-17.883 38.226-11.922 9.625-27.563 14.438-46.922 14.438-13.016 0-24.5-2.543-34.453-7.629-9.953-5.086-17.746-12.168-23.379-21.246-5.633-9.078-8.449-18.868-8.449-29.368h44.133c.218 8.094 2.105 14.165 5.66 18.211 3.555 4.047 9.379 6.071 17.472 6.071 12.469 0 18.704-5.633 18.704-16.899 0-3.937-1.887-7.574-5.661-10.91-3.773-3.336-12.168-7.848-25.183-13.535-19.141-7.766-32.293-15.805-39.457-24.117-7.164-8.313-10.746-18.649-10.746-31.008 0-15.531 5.605-28.355 16.816-38.473 11.211-10.117 26.059-15.175 44.543-15.175 19.469 0 35.055 5.031 46.758 15.093 11.703 10.063 17.555 23.57 17.555 40.524zm-225.029 51.843c.657 13.182 3.555 22.821 8.696 28.918 5.14 6.097 13.07 9.145 23.789 9.145 15.531 0 28.492-5.305 38.883-15.914l18.211 28.055c-5.688 7.875-13.946 14.246-24.774 19.113-10.828 4.867-22.586 7.301-35.273 7.301-23.844 0-42.438-7.11-55.782-21.328-13.343-14.219-20.015-34.563-20.015-61.032v-14.109c0-28 6.125-49.602 18.375-64.805 12.25-15.203 29.805-22.804 52.664-22.804 22.312 0 39.101 7.126 50.367 21.378 11.266 14.252 17.008 35.356 17.227 63.314v22.768h-92.368zm415.538 0c.656 13.182 3.555 22.821 8.695 28.918 5.141 6.097 13.071 9.145 23.789 9.145 15.532 0 28.493-5.305 38.883-15.914l18.211 28.055c-5.687 7.875-13.945 14.246-24.773 19.113-10.828 4.867-22.586 7.301-35.274 7.301-23.844 0-42.437-7.11-55.781-21.328-13.344-14.219-20.016-34.563-20.016-61.032v-14.109c0-28 6.125-49.602 18.375-64.805 12.25-15.203 29.805-22.804 52.664-22.804 22.313 0 39.102 7.126 50.368 21.378 11.265 14.252 17.007 35.356 17.226 63.314v22.768h-92.367zM86.89 206.303c0-25.594 5.797-45.828 17.391-60.703 11.593-14.875 27.398-22.312 47.414-22.312 20.125 0 35.957 7.328 47.496 21.984 11.539 14.656 17.363 34.836 17.473 60.539v18.867c0 26.031-5.825 46.32-17.473 60.867-11.649 14.547-27.371 21.821-47.168 21.821s-35.492-7.11-47.086-21.328c-11.594-14.219-17.609-33.797-18.047-58.735v-21zm876.684 97.781h-46.593V126.569h43.64l1.313 17.554c10.5-13.89 24.226-20.835 41.176-20.835 30.52 0 46.21 21.382 47.09 64.148v116.648h-46.59V190.881c0-10.062-1.51-17.363-4.516-21.902-3.008-4.539-8.285-6.809-15.832-6.809-8.422 0-14.984 4.321-19.688 12.961v128.953zm447.466 0h-46.6v-252h46.6v252zm-209.21 0h-46.6V126.569h46.6v177.515zm-956.685 0h-21.328l52.172-90.398-50.204-87.117h21.329l38.882 71.695 38.883-71.695h21.492l-50.367 87.117 52.336 90.398h-21.328l-40.852-74.648-41.015 74.648zm-205.111 0H21.659V142.975H-2.786v-16.406h24.445v-23.297c.219-17.609 4.293-31.117 12.223-40.524 7.929-9.406 18.894-14.109 32.894-14.109 6.344 0 12.195.93 17.555 2.789l-1.313 16.735a60.6 60.6 0 0 0-14.765-1.805c-8.86 0-15.778 3.308-20.754 9.926-4.977 6.617-7.465 16.105-7.465 28.464v21.821h34.781v16.406H40.034v161.109zm65.231-79.498c0 20.431 4.129 36.491 12.387 48.182 8.258 11.69 19.715 17.535 34.371 17.535 14.984 0 26.441-5.627 34.371-16.88 7.93-11.254 11.949-27.369 12.059-48.345v-18.847c0-20.431-4.157-36.518-12.469-48.263-8.313-11.745-19.742-17.618-34.289-17.618-14.11 0-25.321 5.736-33.633 17.207-8.313 11.472-12.578 27.259-12.797 47.362v19.667zm1193.785-1.056h-11.16c-7.87 0-14.08 2.515-18.62 7.547-4.54 5.031-6.81 11.757-6.81 20.179 0 13.125 5.14 19.688 15.42 19.688 5.15 0 9.52-1.039 13.13-3.117 3.61-2.079 6.29-4.539 8.04-7.383V223.53zm-482.41-25.102h46.43v-4.265c-.219-10.61-1.969-18.649-5.25-24.118-3.281-5.468-8.969-8.203-17.063-8.203-8.093 0-13.972 2.899-17.636 8.696-3.664 5.796-5.825 15.093-6.481 27.89zm-415.537 0h46.429v-4.265c-.218-10.61-1.968-18.649-5.25-24.118-3.281-5.468-8.968-8.203-17.062-8.203-8.094 0-13.973 2.899-17.637 8.696-3.664 5.796-5.824 15.093-6.48 27.89zM1153.1 80.631c0-7.218 2.3-13.125 6.89-17.718 4.59-4.594 10.72-6.891 18.38-6.891 7.65 0 13.78 2.297 18.37 6.891 4.59 4.593 6.89 10.5 6.89 17.718 0 7.11-2.27 13.016-6.81 17.719-4.54 4.703-10.69 7.055-18.45 7.055-7.77 0-13.92-2.352-18.46-7.055-4.54-4.703-6.81-10.609-6.81-17.719zm430.66-33.351c7.89-4.81 16.42-8.585 25.49-10.5-.47 10.577-.95 21.17-.07 31.749 6.65-5.964 13.64-11.537 20.86-16.816 2.9 12.601 6.96 25.045 13.43 36.296 1-14.945 1.19-30.701 8.33-44.273 4.71-9.958 14.76-15.93 25.33-17.794-9.57-5.748-20.46-8.712-31.45-10.141-14.92-3.35-31.28-1.897-44.7 5.693-9.4 5.407-14.97 15.437-17.22 25.786z"/></svg>
				<p style="margin-top: 4px;">a lovely product by the cutelab fairies</p>
			</div></div>
		</div>
		<div id="logo-rainbow"></div>
		<div id="content">
			<div class="middle"><div>
				<p>Would you like to install our app?</p><br>
				<table style="table-layout: fixed;">
					<tr>
						<td style="text-align: right;">Afterwards, you can find<br>this icon on your tablet</td>
						<td style="width: 96px;"><svg style="width: 48px; height: 48px; fill: #1d1f21;" viewBox="0 0 132 132" xmlns="http://www.w3.org/2000/svg"><path d="M112.2 0C123.128 0 132 8.872 132 19.8v92.4c0 10.928-8.872 19.8-19.8 19.8H19.8C8.872 132 0 123.128 0 112.2V19.8C0 8.872 8.872 0 19.8 0h92.4zm-9.018 83.533v-7.568c-.072-9.293-1.982-16.308-5.727-21.046-3.744-4.738-9.323-7.104-16.741-7.104-7.598 0-13.434 2.526-17.505 7.578-4.074 5.055-6.109 12.234-6.109 21.542v4.688c0 8.799 2.218 15.561 6.652 20.287 4.437 4.727 10.618 7.09 18.544 7.09 4.218 0 8.124-.808 11.725-2.426 3.599-1.618 6.344-3.737 8.234-6.353l-6.054-9.326c-3.454 3.526-7.763 5.289-12.923 5.289-3.564 0-6.201-1.014-7.908-3.038-1.71-2.027-2.674-5.232-2.89-9.613h30.702zM43.051 48.904v-7.253c0-4.108.828-7.261 2.482-9.463 1.654-2.199 3.954-3.297 6.898-3.297a20.156 20.156 0 0 1 4.909.598l.435-5.561C55.994 23.31 54.049 23 51.94 23c-4.653 0-8.299 1.564-10.933 4.691-2.637 3.126-3.992 7.616-4.063 13.469v7.744h-8.126v5.452h8.126v53.555h6.106V54.358h11.563v-5.454H43.051zM72.587 72.79c.221-4.255.937-7.344 2.155-9.271 1.217-1.927 3.172-2.89 5.863-2.89 2.689 0 4.579.908 5.672 2.726 1.09 1.817 1.672 4.49 1.745 8.016v1.419H72.587z"/></svg></td>
					</tr>
				</table>
			</div></div>
		</div>
		<div id="footer">
			<table class="yes button">
				<tr>
					<td style="width: 96px;">
						<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
					</td>
					<td>Yes, please!</td>
				</tr>
			</table>
			<table class="no button">
				<tr>
					<td style="width: 96px;">
						<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
					</td>
					<td>No, thank you.</td>
				</tr>
			</table>
		</div>
		<div id="thank-you">
			<div class="middle"><div>
				<svg xmlns="http://www.w3.org/2000/svg" style="fill: #f44336; width: 0; height: 0;" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
				<br><br>
				<h2 style="font-size: 0; font-family: 'Dudu Caligraphy', 'Roboto', sans-serif;">thank you!~</h2>
			</div></div>
		</div>
		<script type="text/javascript">
			var _GET = {};
			if (window.location.search.length>1) {
				window.location.search.substr(1).split("&").forEach(p=>{
					p = p.split("=");
					_GET[p[0]] = p[1];
				});
			}

			var uuid = decodeURI(_GET.uuid);

			function emitEvent(event) {
				if (window.qt) EventBridge.emitWebEvent("foxEssentialsInstall-"+uuid+"-"+event);
			}

			document.querySelector(".yes").addEventListener("click", e=>{
				emitEvent("install");
				
				let thankYou = document.getElementById("thank-you");
				thankYou.style.marginTop = "0";

				setTimeout(()=>{
					thankYou.querySelector("svg").style.width = "160px";
					thankYou.querySelector("svg").style.height = "160px";

					setTimeout(()=>{
						thankYou.querySelector("h2").style.fontSize = "48px";

						setTimeout(()=>{
							document.location = "../app/index.html";
						}, 1200);
					}, 200);
				}, 200);
			});

			document.querySelector(".no").addEventListener("click", e=>{
				window.close();
				emitEvent("close");
			});

			// clicky hover sound effects
			var sounds = {
				mouseenter: "../app/assets/sounds/ss-hover.ogg",
				mousedown: "../app/assets/sounds/ss-click.ogg",
			}

			Object.values(sounds).forEach(sound=>{ new Audio(sound); }); // preload

			var loaded = false;
			document.addEventListener("readystatechange", e=>{
				if (loaded) return;
				if (e.target.readyState != "complete") return;
				loaded = true;
				
				[".button"].forEach(query=>{
					document.querySelectorAll(query).forEach(el=>{
						Object.keys(sounds).forEach(event=>{
							el.addEventListener(event, e=>{
								let sfx = new Audio(sounds[event]);
								sfx.volume = 0.03;
								sfx.play();
							});
						});
					});
				});
			});
		</script>
	</body>
</html>